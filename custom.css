/*
 * Filename: custom.css (自由感·最终版)
 * Description: Implements the 'Monumental Title -> Free Scroll' user experience.
 * Version: 5.0 (Freedom Edition)
 */

/* -------------------------------------------------------------------------- */
/*                         Part 1: 全屏滚动布局核心                         */
/* -------------------------------------------------------------------------- */

/*
 * 使用 CSS Grid 创建一个两行布局的容器
 * 这是一个非常现代和强大的布局方式
 */
.freedom-container {
    display: grid;
    grid-template-rows: 100vh auto; /* 第一行高度为100%视口高度，第二行自动 */
    height: 100vh;
    overflow-y: auto;
    overflow-x: hidden;
    
    /* === 核心技术: 滚动捕捉 (Scroll Snapping) === */
    /* 这会让滚动在每个全屏区域的开始位置“吸附”，感觉非常清脆 */
    scroll-snap-type: y mandatory;
}

.fullscreen-section {
    width: 100%;
    height: 100vh;
    scroll-snap-align: start; /* 每个部分的顶部与视口顶部对齐吸附 */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2rem;
    position: relative; /* 用于定位内部元素 */
}


/* -------------------------------------------------------------------------- */
/*                      Part 2: 大字跃出动画 (Hero Section)                    */
/* -------------------------------------------------------------------------- */

/* .hero-section 本身的样式 */
.hero-section {
    background-color: var(--color-bg-dark); /* 强制使用深色背景以突出文字 */
    color: var(--color-text-dark);
}

.monumental-title {
    font-size: clamp(2.5rem, 10vw, 8rem); /* 巨大且自适应的字体 */
    font-weight: 900;
    text-transform: uppercase; /* 字母大写更有冲击力 */
    text-align: center;
    line-height: 1.1;
    display: flex;
    flex-direction: column; /* 让每个span垂直排列 */
}

/* === 核心技术: Staggered Animation (交错动画) === */
/* 让每个span依次“跃出” */
.monumental-title span {
    display: block;
    opacity: 0;
    transform: translateY(50px) rotate(5deg);
    animation: title-jump-in 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* 通过 animation-delay 为每个span设置不同的延迟时间 */
.monumental-title span:nth-child(1) { animation-delay: 0.2s; }
.monumental-title span:nth-child(2) { animation-delay: 0.3s; }
.monumental-title span:nth-child(3) { animation-delay: 0.4s; }
.monumental-title span:nth-child(4) { animation-delay: 0.5s; }


@keyframes title-jump-in {
    to {
        opacity: 1;
        transform: translateY(0) rotate(0);
    }
}


/* “向下滚动”提示的样式和动画 */
.scroll-down-prompt {
    position: absolute;
    bottom: 3rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-primary-dark);
    font-weight: 600;
    opacity: 0;
    animation: fade-in-slow 1s ease 1.5s forwards; /* 在标题动画结束后淡入 */
}

@keyframes fade-in-slow {
    to { opacity: 0.7; }
}

/* -------------------------------------------------------------------------- */
/*                   Part 3: 博文区域样式调整 (Content Section)                 */
/* -------------------------------------------------------------------------- */
.content-section {
    height: auto; /* 高度不再是100vh，而是由内容决定 */
    min-height: 100vh; /* 保证即使内容少也至少占一屏 */
    background-color: var(--color-bg);
    color: var(--color-text);
    padding: 0; /* 内边距由内部的 .page-container 控制 */
}

/* 将 header, post-list, footer 放在一个容器里 */
.content-section .page-container {
    width: 100%;
    max-width: var(--content-width);
    margin-left: auto;
    margin-right: auto;
    padding: 0 2rem;
}
.content-section .site-header {
    width: 100%;
    padding: 2.5rem 0;
    margin: 0; /* 移除之前的外边距 */
}

/* 对 .post-preview 保持之前的二次元风格或任何你喜欢的风格 */
/* (这里的代码是可选的，如果你喜欢之前的卡片样式，可以把它们复制过来) */
.post-list .post-preview {
    background: rgba(255, 255, 255, 0.5); 
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 2px solid var(--color-border);
    border-radius: var(--border-radius, 20px);
    margin-bottom: 2rem;
}
.post-list .post-preview:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 0 25px 0 var(--color-primary);
    border-color: var(--color-primary);
}


/* 响应式调整 */
@media (max-width: 768px) {
    .freedom-container {
        /* 在手机上，禁用滚动捕捉，提供更流畅自由的滚动体验 */
        scroll-snap-type: none;
    }
}    border-color: var(--color-primary);
}

.post-preview h2 {
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: var(--color-text);
}

.post-meta .post-tags {
    font-weight: 700;
    color: var(--color-primary);
    background-color: var(--color-border);
    padding: 2px 8px;
    border-radius: 8px;
}


/* === 美化核心 4: 文章页风格调整 === */
.post-full .post-title {
    font-size: var(--font-size-xl);
    font-weight: 800;
    /* 应用和主页一致的描边效果 */
     text-shadow: 
        -2px -2px 0 var(--color-bg),  
         2px -2px 0 var(--color-bg),
        -2px  2px 0 var(--color-bg),
         2px  2px 0 var(--color-bg),
        -2px -2px 2px var(--color-secondary),
         2px -2px 2px var(--color-secondary),
        -2px  2px 2px var(--color-secondary),
         2px  2px 2px var(--color-secondary);
}

.post-content pre {
    /* 移除旧的边框，使用更柔和的阴影 */
    border: none;
    box-shadow: 0 2px 10px var(--color-border);
}
